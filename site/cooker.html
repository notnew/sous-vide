<!DOCTYPE html>
<html>
  <link rel="stylesheet" type="text/css" href="style/style.css" />
  <head>
    <title> Sous Vide Cooker Control</title>
  </head>
  <body>
    <form id="state" onsubmit="updateState(); return false;" >
      <label for="temperature">current:</label>
      <input id="temperature" readOnly></label>

      <label for="target">target:</label>
      <input id="target" name="target" class="PI-control"
             type="number" step="0.2" min="50" max="212" />


      <label for="setting">setting:</label>
      <input id="setting" name="setting" class="manual-control"
             type="number" step="0.05" min="0" max="1" />

      <label for="error">error:</label>
      <input id="error" readOnly ></label>

      <label>proportional:</label>
      <input id="proportional" readOnly></label>

      <label for="kp">kp:</label>
      <input id="kp" name="kp" class="PI-control"
                   type="number" step="0.05" min="0" max="5" />

      <label for="offset">offset:</label>
      <input id="offset" name="offset" class="PI-control"
             type="number" step="0.005" min="0" max="1" />

      <label for="ki">ki:</label>
      <input id="ki" name="ki" class="PI-control"
             type="number" step="0.00001" min="0" />

      <button type="submit">Update</button>
      <button onclick="requestState().get(); return false;" > Refresh </button>
    </form>
    <div id="history">
      <svg id="temperatures" viewBox="0 0 3.6 1.2">
        <g transform="scale(3 1) translate(0.1 0.1)">
          <rect class="border" width=1 height=1></rect>
          <path name="temperature"></path>
          <g class="axis"></g>
      </svg>
      <div id="recent" >
        <svg viewBox="0 0 3.6 1.2">
          <g transform="scale(3 1) translate(0.1 0.1)">
            <rect class="border" width=1 height=1></rect>
            <path name="temperature"></path>
            <path name="target"></path>
            <g class="axis"></g>
          </g>
        </svg>
        <svg viewBox="0 0 3.6 1.2">
          <g transform="scale(3 1) translate(0.1 0.1)">
            <rect class="border" width=1 height=1></rect>
            <path name="setting"></path>
            <path name="error"></path>
            <g class="axis"></g>
          </g>
        </svg>
      </div>
    </div>
    <div id="debug-wrapper">
      Debug:
      <div id="debug"> debug stuff here </div>
    </div>
  </body>
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script type="text/javascript" src="js/cooker.js"></script>
</html>
